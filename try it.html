<!DOCTYPE html>
<html>
    <head>

        <script src="./src/atropa-formdata-generator.js"
              type="text/javascript">
</script>
        <script type="text/javascript">

            function btn_action () {
                try {
                    var els = {};
                    var ids = [
                        'userSubmission',
                        'resultDisplay1',
                        'resultDisplay2'
                    ];
                    ids.forEach(function (name) {
                        els[name] = document.getElementById(name);
                    });
                    els.df = document.createDocumentFragment();
                    els.div = document.createElement('div');
                    els.div.innerHTML = els.userSubmission.value;
                    els.df.appendChild(els.div);
                    els.testForm = els.div.querySelector('form');
                    els.resultDisplay1.textContent = formdataGenerator(
                        els.testForm,
                        'myFormDataFunction',
                        true
                    );
                    els.resultDisplay2.textContent = formdataGenerator(
                        els.testForm,
                        'myFormDataFunction'
                    );
                } catch (e) {
                    alert(e);
                }
            }
        </script>
        <title>
            Try atropa-formdata-generator.js
        </title>
    </head>
    <body>
        <h1>
            Try atropa-formdata-generator.js
        </h1>

        <textarea id="userSubmission" style="border:2px solid black; min-height:200px; width:100%;"></textarea>

        <h2>
            Results
        </h2>

        <p>
            <button onclick="btn_action();">Regenerate</button>
        </p>

        <h3>
            With Configuration Option
        </h3>

        <pre id="resultDisplay1">
        
</pre>
        <h3>
            Without Configuration Option
        </h3>

        <pre id="resultDisplay2">
        
</pre>
    </body>
</html>
